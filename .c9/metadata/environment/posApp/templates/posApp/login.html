{"changed":true,"filter":false,"title":"login.html","tooltip":"/posApp/templates/posApp/login.html","value":"{% load static %}\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> {% if page_title %}\n    <title>{{ page_title }} | Restro Point Of Sale System</title>\n    {% else %}\n    <title>Restro Point Of Sale System</title>\n    {% endif %}\n    <link rel=\"stylesheet\" href=\"{% static 'posAPP/assets/default/css/style.css' %}\">\n    <link rel=\"stylesheet\" href=\"{% static 'posAPP/assets/bootstrap/css/bootstrap.min.css' %}\">\n\n    <!-- plugins:css -->\n    <link rel=\"stylesheet\" href=\"{% static 'posAPP/assets/material-admin/vendors/mdi/css/materialdesignicons.min.css' %}\">\n    <link rel=\"stylesheet\" href=\"{% static 'posAPP/assets/material-admin/vendors/css/vendor.bundle.base.css' %}\">\n    <!-- endinject -->\n    <!-- Plugin css for this page -->\n    <link rel=\"stylesheet\" href=\"{% static 'posAPP/assets/material-admin/vendors/flag-icon-css/css/flag-icon.min.css' %}\">\n    <link rel=\"stylesheet\" href=\"{% static 'posAPP/assets/material-admin/vendors/jvectormap/jquery-jvectormap.css' %}\">\n    <!-- End plugin css for this page -->\n    <!-- Layout styles -->\n    <link rel=\"stylesheet\" href=\"{% static 'posAPP/assets/material-admin/css/demo/style.css' %}\">\n    <!-- End layout styles -->\n    <link rel=\"shortcut icon\" href=\"{% static 'posAPP/assets/material-admin/images/favicon.png' %}\" />\n    <script src=\"{% static 'posAPP/assets/default/js/jquery-3.6.0.min.js' %}\">\n    </script>\n    <script src=\"{% static 'posAPP/assets/bootstrap/js/bootstrap.min.js' %}\"></script>\n    <script src=\"{% static 'posAPP/assets/bootstrap/js/bootstrap.bundle.min.js' %}\"></script>\n    <script src=\"{% static 'posAPP/assets/bootstrap/js/popper.min.js' %}\"></script>\n\n    <script src=\"https://code.jquery.com/jquery-3.6.0.min.js\"></script>\n</head>\n\n<body>\n    <script src=\"{% static 'posAPP/assets/material-admin/js/preloader.js' %}\"></script>\n    <div class=\"body-wrapper\">\n        <div class=\"main-wrapper\">\n            <div class=\"page-wrapper full-page-wrapper d-flex align-items-center justify-content-center\">\n                <main class=\"auth-page\">\n                    <div class=\"mdc-layout-grid\">\n                        <div class=\"mdc-layout-grid__inner justify-content-center\">\n                            <div class=\"mdc-layout-grid__cell--span-2-desktop\"></div>\n                            <div class=\"mdc-card mdc-layout-grid__cell--span-8-desktop mdc-layout-grid__cell--span-1-tablet mb-5\">\n                                <h3 class=\"text-center\">Restro Point Of Sale System</h3>\n                            </div>\n                        </div>\n                        <div class=\"mdc-layout-grid__inner\">\n                            <div class=\"stretch-card mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-1-tablet\"></div>\n                            <div class=\"mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-6-tablet\">\n                                <div class=\"mdc-card\">\n                                    <form id=\"login-user\">\n                                        {% csrf_token %}\n                                        <div class=\"mdc-layout-grid\">\n                                            <div class=\"mdc-layout-grid__inner\">\n                                                \n                                                    <div class=\"mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-12\">\n                                                        <div class=\"mdc-text-field w-100\">\n                                                            <input class=\"mdc-text-field__input\" name=\"username\" id=\"text-field-hero-input\">\n                                                            <div class=\"mdc-line-ripple\"></div>\n                                                            <label for=\"text-field-hero-input\" class=\"mdc-floating-label\">Username</label>\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-12\">\n                                                        <div class=\"mdc-text-field w-100\">\n                                                            <input class=\"mdc-text-field__input\" name=\"password\" type=\"password\" id=\"text-field-hero-input\">\n                                                            <div class=\"mdc-line-ripple\"></div>\n                                                            <label for=\"text-field-hero-input\" class=\"mdc-floating-label\">Password</label>\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-12\">\n                                                        <button class=\"mdc-button mdc-button--raised w-100\">\n                                                            Login\n                                                        </button>\n                                                    </div>\n                                             \n                                            </div>\n                                        </div>\n                                    </form>\n                                </div>\n                            </div>\n                            <div class=\"stretch-card mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-1-tablet\"></div>\n                        </div>\n                    </div>\n                </main>\n            </div>\n        </div>\n    </div>\n    <script>\n        window.start_loader = function() {\n            $('body').removeClass('loaded')\n        }\n        window.end_loader = function() {\n            $('body').addClass('loaded')\n        }\n        window.uni_modal = function($title = '', $url = '', $size = \"\") {\n            start_loader()\n            $.ajax({\n                url: $url,\n                error: err => {\n                    console.log()\n                    alert(\"An error occured\")\n                },\n                success: function(resp) {\n                    if (resp) {\n                        $('#uni_modal .modal-title').html($title)\n                        $('#uni_modal .modal-body').html(resp)\n                        if ($size != '') {\n                            $('#uni_modal .modal-dialog').addClass($size + '  modal-dialog-centered')\n                        } else {\n                            $('#uni_modal .modal-dialog').removeAttr(\"class\").addClass(\"modal-dialog modal-md modal-dialog-centered\")\n                        }\n                        $('#uni_modal').modal({\n                            backdrop: 'static',\n                            keyboard: false,\n                            focus: true\n                        })\n                        $('#uni_modal').modal('show')\n                        end_loader()\n                    }\n                }\n            })\n        }\n        window._conf = function($msg = '', $func = '', $params = []) {\n            $('#confirm_modal #confirm').attr('onclick', $func + \"(\" + $params.join(',') + \")\")\n            $('#confirm_modal .modal-body').html($msg)\n            $('#confirm_modal').modal('show')\n        }\n        $(function() {\n\n        })\n    </script>\n\n    <script src=\"{% static 'posAPP/assets/material-admin/vendors/js/vendor.bundle.base.js' %}\"></script>\n    <script src=\"{% static 'posAPP/assets/material-admin/js/material.js' %}\"></script>\n    <script src=\"{% static 'posAPP/assets/material-admin/js/misc.js' %}\"></script>\n    <script src=\"{% static 'posAPP/assets/material-admin/js/dashboard.js' %}\"></script>\n    <script>\n        $(function() {\n            $('#login-user').submit(function(e) {\n                e.preventDefault();\n                var _this = $(this)\n                $('.err-msg').remove();\n                var el = $('<div>')\n                el.addClass(\"alert alert-danger err-msg\")\n                el.hide()\n                if (_this[0].checkValidity() == false) {\n                    _this[0].reportValidity();\n                    return false;\n                }\n                start_loader();\n                $.ajax({\n                    //headers: {\n                    //    \"X-CSRFToken\": '{{csrf_token}}'\n                    //},\n                    headers: {\n                        \"X-CSRFToken\": $(\"input[name='csrfmiddlewaretoken']\").val()\n                    },\n                    url: \"{% url 'login-user' %}\",\n                    data: new FormData($(this)[0]),\n                    cache: false,\n                    contentType: false,\n                    processData: false,\n                    method: 'POST',\n                    type: 'POST',\n                    dataType: 'json',\n                    error: err => {\n                        console.log(err)\n                        alert_toast(\"An error occured\", 'error');\n                        end_loader();\n                    },\n                    success: function(resp) {\n                        if (typeof resp == 'object' && resp.status == 'success') {\n                            el.removeClass(\"alert alert-danger err-msg\")\n                            location.href = \"{% url 'home-page' %}\"\n                        } else if (resp.status == 'failed' && !!resp.msg) {\n                            el.text(resp.msg)\n                        } else {\n                            el.text(\"An error occured\", 'error');\n                            end_loader();\n                            console.err(resp)\n                        }\n                        _this.prepend(el)\n                        el.show('slow')\n                        $(\"html, body, .modal\").scrollTop(0);\n                        end_loader()\n                    }\n                })\n            })\n        })\n    </script>\n</body>\n\n</html>","undoManager":{"mark":-2,"position":0,"stack":[[{"start":{"row":8,"column":30},"end":{"row":8,"column":37},"action":"remove","lines":["Grocery"],"id":2},{"start":{"row":8,"column":30},"end":{"row":8,"column":36},"action":"insert","lines":["Restro"]},{"start":{"row":10,"column":11},"end":{"row":10,"column":18},"action":"remove","lines":["Grocery"]},{"start":{"row":10,"column":11},"end":{"row":10,"column":17},"action":"insert","lines":["Restro"]},{"start":{"row":46,"column":56},"end":{"row":46,"column":63},"action":"remove","lines":["Grocery"]},{"start":{"row":46,"column":56},"end":{"row":46,"column":62},"action":"insert","lines":["Restro"]}]]},"ace":{"folds":[],"scrolltop":678,"scrollleft":0,"selection":{"start":{"row":68,"column":60},"end":{"row":68,"column":60},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":47,"state":"start","mode":"ace/mode/html"}},"timestamp":1764762569817}